{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\extract_dev3\\\\src\\\\components\\\\MainCard.js\";\nimport React from 'react';\nimport { Form, Formik } from 'formik';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as Bs from 'react-bootstrap';\nimport * as Yup from 'yup';\nimport { RegularButton, MultipleInput, InputWithLabel, ReactSwitch, ConditionInput, ReactAlert } from './FormComponents';\nconst ValidForm = Yup.object().shape({\n  reqst_cd: Yup.string().required('Request code is required.'),\n  workflows: Yup.array().of(Yup.string().required('Workflow code is required.')).min(1, 'Minimum of 1 workflow.'),\n  clusters: Yup.array().of(Yup.string().required('Cluster code is required.')),\n  cluster_apvls: Yup.array().of(Yup.string().required('Cluster Approval code is required.')),\n  dropdowns: Yup.array().of(Yup.string().required('Field Name is required.')),\n  // apps_cd: Yup.string(),\n  // apps_owners: Yup.array()\n  // .of(\n  //     Yup.string()\n  //     .required('Application Owner is required.'),\n  // )\n  // .when('apps_cd', {\n  //     is: (apps_cd) => apps_cd > '',\n  //     then: Yup.array()\n  //         .min(1, 'Minimum of 1 Application Owner.'),          \n  // }),\n  reqst_cond_switch: Yup.boolean(),\n  condtn_cd: Yup.array().when('reqst_cond_switch', {\n    is: reqst_cond_switch => reqst_cond_switch === true,\n    then: Yup.array().of(Yup.string().required('Condition code is required.')).min(1, 'Minimum of 1 condition.')\n  })\n});\n\nclass ReactCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      alert_class: '',\n      alert_heading: '',\n      alert_body: '',\n      alert_show: false\n    }; // this.appsCdChangeHandler = this.appsCdChangeHandler.bind(this);\n\n    this.alertClose = this.alertClose.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://10.15.10.250:8080/extract_dev2/users\").then(res => res.json()).then(result => {\n      // console.log(result)\n      this.setState({// users: result\n        // isLoaded: true,\n        // selectedOption: \"Please choose\"\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n      console.log(this.state.error);\n    });\n  } // clusterApvlSwitchChangeHandler(){\n  //     var new_wflow = this.state.other_wflow.concat('');\n  //     this.setState({ other_wflow: new_wflow });\n  // }\n\n\n  alertClose() {\n    this.setState({\n      alert_show: false\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(ReactAlert, {\n      display: this.state.alert_show,\n      class: this.state.alert_class,\n      title: this.state.alert_heading,\n      body: this.state.alert_body,\n      onClose: this.alertClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(Formik, {\n      initialValues: {\n        users: this.state.users,\n        reqst_cd: '',\n        workflows: [],\n        cluster_switch: false,\n        clusters: [],\n        cluster_apvls: [],\n        dropdowns: [],\n        apps_cd: '',\n        // apps_owners: [],\n        wflow_cond_switch: false,\n        reqst_cond_switch: false,\n        condtn_cd: [],\n        cond_ctrls_switch: false,\n        form_validate_switch: false,\n        ws_apvl_switch: false,\n        ws_actv_switch: false\n      },\n      enableReinitialize: true,\n      validationSchema: ValidForm,\n      onSubmit: (values, {\n        setSubmitting,\n        resetForm\n      }) => {\n        const that = this;\n        fetch(\"http://10.15.10.250:8080/extract_dev2/extract_workflow\", {\n          method: 'POST',\n          mode: 'cors',\n          body: JSON.stringify(values, null, 2)\n        }).then(res => res.json()).then(result => {\n          console.log(result);\n\n          if (result['error']) {\n            that.setState({\n              alert_show: true,\n              alert_class: 'alert-danger',\n              alert_heading: 'Error',\n              alert_body: result['data']\n            });\n            setSubmitting(false);\n          } else {\n            setSubmitting(false);\n            resetForm(values);\n            that.setState({\n              alert_show: true,\n              alert_class: 'alert-success',\n              alert_heading: 'Workflow Extracted',\n              alert_body: 'Script for transport has been extracted. Please check the files for the script: ' + values.reqst_cd + '.sql'\n            });\n          }\n        }, error => {\n          that.setState({\n            error\n          });\n          that.setState({\n            alert_show: true,\n            alert_class: 'alert-danger',\n            alert_heading: 'Error',\n            alert_body: 'There was an error processing your request. Please try again. Error: ' + error\n          });\n          console.log(error);\n          setSubmitting(false);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, ({\n      handleSubmit,\n      handleChange,\n      handleBlur,\n      values,\n      touched,\n      isValid,\n      errors,\n      form,\n      isSubmitting,\n      formProps\n    }) => React.createElement(Bs.Container, {\n      className: \"mt-5 mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Bs.Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Bs.Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Bs.Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Extract Script for Transport\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(Bs.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(InputWithLabel, {\n      comp: Bs.Form.Control,\n      type: \"text\",\n      id: \"reqst_cd\",\n      name: \"reqst_cd\",\n      placeholder: \"Request Code\",\n      label: \"Request Code\",\n      errors: errors.reqst_cd,\n      touched: touched.reqst_cd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    })), React.createElement(MultipleInput, {\n      value: values.workflows,\n      errors: errors.workflows,\n      touched: touched.workflows,\n      name: \"workflows\",\n      item: \"workflow\",\n      placeholder: \"Workflow Code\",\n      button: \"Add Workflow\",\n      label: \"Workflow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(MultipleInput, {\n      show: true,\n      value: values.clusters,\n      errors: errors.clusters,\n      touched: touched.clusters,\n      name: \"clusters\",\n      item: \"cluster\",\n      placeholder: \"Cluster Code\",\n      button: \"Add Cluster\",\n      label: \"Cluster\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(MultipleInput, {\n      show: true,\n      value: values.cluster_apvls,\n      errors: errors.cluster_apvls,\n      touched: touched.cluster_apvls,\n      name: \"cluster_apvls\",\n      item: \"cluster_apvls\",\n      placeholder: \"Cluster Approval Code\",\n      button: \"Add Cluster Approver\",\n      label: \"Cluster Approval\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(MultipleInput, {\n      value: values.dropdowns,\n      errors: errors.dropdowns,\n      touched: touched.dropdowns,\n      name: \"dropdowns\",\n      item: \"dropdowns\",\n      placeholder: \"Field Name\",\n      button: \"Add Dropdown\",\n      label: \"Dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }), React.createElement(Bs.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(InputWithLabel, {\n      comp: Bs.Form.Control,\n      type: \"text\",\n      id: \"apps_cd\",\n      name: \"apps_cd\",\n      placeholder: \"Application Code\",\n      label: \"Application Code\",\n      errors: errors.apps_cd,\n      touched: touched.apps_cd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    })), React.createElement(ReactSwitch, {\n      id: \"wflow_cond_switch\",\n      name: \"wflow_cond_switch\",\n      label: \"With workflow condition?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }), React.createElement(ReactSwitch, {\n      id: \"reqst_cond_switch\",\n      name: \"reqst_cond_switch\",\n      label: \"With request condition?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }), React.createElement(MultipleInput, {\n      value: values.condtn_cd,\n      errors: errors.condtn_cd,\n      touched: touched.condtn_cd,\n      name: \"condtn_cd\",\n      item: \"dropdowns\",\n      placeholder: \"Condition Code\",\n      button: \"Add Condition\",\n      label: \"Condition Code\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }), React.createElement(ReactSwitch, {\n      id: \"cond_ctrls_switch\",\n      name: \"cond_ctrls_switch\",\n      label: \"With condition control?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }), React.createElement(ReactSwitch, {\n      id: \"form_validate_switch\",\n      name: \"form_validate_switch\",\n      label: \"With trigger on Save/Finalize?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }), React.createElement(ReactSwitch, {\n      id: \"ws_apvl_switch\",\n      name: \"ws_apvl_switch\",\n      label: \"With trigger on approval?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(ReactSwitch, {\n      id: \"ws_actv_switch\",\n      name: \"ws_actv_switch\",\n      label: \"With trigger when an activity is done?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }), React.createElement(RegularButton, {\n      col: \"5\",\n      type: \"submit\",\n      size: \"lg\",\n      text: \"Extract\",\n      isSubmitting: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    })))))));\n  }\n\n}\n\n;\nexport default ReactCard;","map":{"version":3,"sources":["C:/xampp/htdocs/extract_dev3/src/components/MainCard.js"],"names":["React","Form","Formik","Bs","Yup","RegularButton","MultipleInput","InputWithLabel","ReactSwitch","ConditionInput","ReactAlert","ValidForm","object","shape","reqst_cd","string","required","workflows","array","of","min","clusters","cluster_apvls","dropdowns","reqst_cond_switch","boolean","condtn_cd","when","is","then","ReactCard","Component","constructor","props","state","users","alert_class","alert_heading","alert_body","alert_show","alertClose","bind","componentDidMount","fetch","res","json","result","setState","error","console","log","render","cluster_switch","apps_cd","wflow_cond_switch","cond_ctrls_switch","form_validate_switch","ws_apvl_switch","ws_actv_switch","values","setSubmitting","resetForm","that","method","mode","body","JSON","stringify","handleSubmit","handleChange","handleBlur","touched","isValid","errors","form","isSubmitting","formProps","Control"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,QAA7B;AACA,OAAO,sCAAP;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,cAAvC,EAAuDC,WAAvD,EAAoEC,cAApE,EAAoFC,UAApF,QAAqG,kBAArG;AAEA,MAAMC,SAAS,GAAGP,GAAG,CAACQ,MAAJ,GAAaC,KAAb,CAAmB;AAC7BC,EAAAA,QAAQ,EAAEV,GAAG,CAACW,MAAJ,GACLC,QADK,CACI,2BADJ,CADmB;AAG7BC,EAAAA,SAAS,EAAEb,GAAG,CAACc,KAAJ,GACNC,EADM,CAEHf,GAAG,CAACW,MAAJ,GACCC,QADD,CACU,4BADV,CAFG,EAKNI,GALM,CAKF,CALE,EAKC,wBALD,CAHkB;AAS7BC,EAAAA,QAAQ,EAAEjB,GAAG,CAACc,KAAJ,GACLC,EADK,CAEFf,GAAG,CAACW,MAAJ,GACCC,QADD,CACU,2BADV,CAFE,CATmB;AAc7BM,EAAAA,aAAa,EAAElB,GAAG,CAACc,KAAJ,GACVC,EADU,CAEPf,GAAG,CAACW,MAAJ,GACCC,QADD,CACU,oCADV,CAFO,CAdc;AAmB7BO,EAAAA,SAAS,EAAEnB,GAAG,CAACc,KAAJ,GACNC,EADM,CAEHf,GAAG,CAACW,MAAJ,GACCC,QADD,CACU,yBADV,CAFG,CAnBkB;AAwB7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAQ,EAAAA,iBAAiB,EAAEpB,GAAG,CAACqB,OAAJ,EAnCU;AAoC7BC,EAAAA,SAAS,EAAEtB,GAAG,CAACc,KAAJ,GACNS,IADM,CACD,mBADC,EACoB;AACvBC,IAAAA,EAAE,EAAGJ,iBAAD,IAAuBA,iBAAiB,KAAK,IAD1B;AAEvBK,IAAAA,IAAI,EAAEzB,GAAG,CAACc,KAAJ,GACLC,EADK,CAEFf,GAAG,CAACW,MAAJ,GACCC,QADD,CACU,6BADV,CAFE,EAKLI,GALK,CAKD,CALC,EAKE,yBALF;AAFiB,GADpB;AApCkB,CAAnB,CAAlB;;AAkDA,MAAMU,SAAN,SAAwB9B,KAAK,CAAC+B,SAA9B,CAAwC;AAEpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,aAAa,EAAE,EAHJ;AAIXC,MAAAA,UAAU,EAAE,EAJD;AAKXC,MAAAA,UAAU,EAAE;AALD,KAAb,CAFe,CAUf;;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAC,6CAAD,CAAL,CACCd,IADD,CACMe,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAEChB,IAFD,CAGKiB,MAAD,IAAY;AACR;AACA,WAAKC,QAAL,CAAc,CACV;AACA;AACA;AAHU,OAAd;AAKH,KAVL,EAWKC,KAAD,IAAW;AACP,WAAKD,QAAL,CAAc;AACVC,QAAAA;AADU,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWc,KAAvB;AACH,KAhBL;AAmBH,GApCmC,CAsCpC;AACA;AACA;AACA;;;AAEAR,EAAAA,UAAU,GAAE;AACR,SAAKO,QAAL,CAAc;AACVR,MAAAA,UAAU,EAAE;AADF,KAAd;AAGH;;AAEDY,EAAAA,MAAM,GAAE;AACR,WACI,0CACA,oBAAC,UAAD;AACI,MAAA,OAAO,EAAE,KAAKjB,KAAL,CAAWK,UADxB;AAEI,MAAA,KAAK,EAAE,KAAKL,KAAL,CAAWE,WAFtB;AAGI,MAAA,KAAK,EAAE,KAAKF,KAAL,CAAWG,aAHtB;AAII,MAAA,IAAI,EAAE,KAAKH,KAAL,CAAWI,UAJrB;AAKI,MAAA,OAAO,EAAE,KAAKE,UALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAQA,oBAAC,MAAD;AACI,MAAA,aAAa,EAAE;AACXL,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADP;AAEXrB,QAAAA,QAAQ,EAAE,EAFC;AAGXG,QAAAA,SAAS,EAAE,EAHA;AAIXmC,QAAAA,cAAc,EAAE,KAJL;AAKX/B,QAAAA,QAAQ,EAAE,EALC;AAMXC,QAAAA,aAAa,EAAE,EANJ;AAOXC,QAAAA,SAAS,EAAE,EAPA;AAQX8B,QAAAA,OAAO,EAAE,EARE;AASX;AACAC,QAAAA,iBAAiB,EAAE,KAVR;AAWX9B,QAAAA,iBAAiB,EAAE,KAXR;AAYXE,QAAAA,SAAS,EAAE,EAZA;AAaX6B,QAAAA,iBAAiB,EAAE,KAbR;AAcXC,QAAAA,oBAAoB,EAAE,KAdX;AAeXC,QAAAA,cAAc,EAAE,KAfL;AAgBXC,QAAAA,cAAc,EAAE;AAhBL,OADnB;AAmBI,MAAA,kBAAkB,MAnBtB;AAoBI,MAAA,gBAAgB,EAAE/C,SApBtB;AAqBI,MAAA,QAAQ,EAAE,CAAEgD,MAAF,EAAU;AAAEC,QAAAA,aAAF;AAAiBC,QAAAA;AAAjB,OAAV,KAA0C;AAE5C,cAAMC,IAAI,GAAG,IAAb;AAEAnB,QAAAA,KAAK,CAAC,wDAAD,EAA2D;AACxDoB,UAAAA,MAAM,EAAE,MADgD;AAExDC,UAAAA,IAAI,EAAE,MAFkD;AAGxDC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,MAAf,EAAuB,IAAvB,EAA6B,CAA7B;AAHkD,SAA3D,CAAL,CAMC9B,IAND,CAMMe,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANb,EAOChB,IAPD,CAQKiB,MAAD,IAAY;AAERG,UAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;;AAEA,cAAGA,MAAM,CAAC,OAAD,CAAT,EAAmB;AACfgB,YAAAA,IAAI,CAACf,QAAL,CAAc;AACVR,cAAAA,UAAU,EAAE,IADF;AAEVH,cAAAA,WAAW,EAAE,cAFH;AAGVC,cAAAA,aAAa,EAAE,OAHL;AAIVC,cAAAA,UAAU,EAAEQ,MAAM,CAAC,MAAD;AAJR,aAAd;AAMAc,YAAAA,aAAa,CAAC,KAAD,CAAb;AACH,WARD,MASI;AACAA,YAAAA,aAAa,CAAC,KAAD,CAAb;AACAC,YAAAA,SAAS,CAACF,MAAD,CAAT;AACAG,YAAAA,IAAI,CAACf,QAAL,CAAc;AACVR,cAAAA,UAAU,EAAE,IADF;AAEVH,cAAAA,WAAW,EAAE,eAFH;AAGVC,cAAAA,aAAa,EAAE,oBAHL;AAIVC,cAAAA,UAAU,EAAE,qFAAoFqB,MAAM,CAAC7C,QAA3F,GAAoG;AAJtG,aAAd;AAMH;AAEJ,SAhCL,EAkCKkC,KAAD,IAAW;AACPc,UAAAA,IAAI,CAACf,QAAL,CAAc;AACVC,YAAAA;AADU,WAAd;AAGAc,UAAAA,IAAI,CAACf,QAAL,CAAc;AACVR,YAAAA,UAAU,EAAE,IADF;AAEVH,YAAAA,WAAW,EAAE,cAFH;AAGVC,YAAAA,aAAa,EAAE,OAHL;AAIVC,YAAAA,UAAU,EAAE,0EAA0EU;AAJ5E,WAAd;AAMAC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAY,UAAAA,aAAa,CAAC,KAAD,CAAb;AAEH,SA/CL;AAiDH,OA1ET;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA6EK,CAAC;AACEQ,MAAAA,YADF;AAEEC,MAAAA,YAFF;AAGEC,MAAAA,UAHF;AAIEX,MAAAA,MAJF;AAKEY,MAAAA,OALF;AAMEC,MAAAA,OANF;AAOEC,MAAAA,MAPF;AAQEC,MAAAA,IARF;AASEC,MAAAA,YATF;AAUEC,MAAAA;AAVF,KAAD,KAYG,oBAAC,EAAD,CAAI,SAAJ;AAAc,MAAA,SAAS,EAAC,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,EAAD,CAAI,IAAJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,EAAD,CAAI,IAAJ,CAAS,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,EAAD,CAAI,IAAJ,CAAS,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,EAEQ,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,EAAD,CAAI,GAAJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AACI,MAAA,IAAI,EAAEzE,EAAE,CAACF,IAAH,CAAQ4E,OADlB;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,EAAE,EAAC,UAHP;AAII,MAAA,IAAI,EAAC,UAJT;AAKI,MAAA,WAAW,EAAC,cALhB;AAMI,MAAA,KAAK,EAAC,cANV;AAOI,MAAA,MAAM,EAAEJ,MAAM,CAAC3D,QAPnB;AAQI,MAAA,OAAO,EAAEyD,OAAO,CAACzD,QARrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAaI,oBAAC,aAAD;AACI,MAAA,KAAK,EAAE6C,MAAM,CAAC1C,SADlB;AAEI,MAAA,MAAM,EAAEwD,MAAM,CAACxD,SAFnB;AAGI,MAAA,OAAO,EAAEsD,OAAO,CAACtD,SAHrB;AAII,MAAA,IAAI,EAAC,WAJT;AAKI,MAAA,IAAI,EAAC,UALT;AAMI,MAAA,WAAW,EAAC,eANhB;AAOI,MAAA,MAAM,EAAC,cAPX;AAQI,MAAA,KAAK,EAAC,UARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,EAwBI,oBAAC,aAAD;AACI,MAAA,IAAI,EAAE,IADV;AAEI,MAAA,KAAK,EAAE0C,MAAM,CAACtC,QAFlB;AAGI,MAAA,MAAM,EAAEoD,MAAM,CAACpD,QAHnB;AAII,MAAA,OAAO,EAAEkD,OAAO,CAAClD,QAJrB;AAKI,MAAA,IAAI,EAAC,UALT;AAMI,MAAA,IAAI,EAAC,SANT;AAOI,MAAA,WAAW,EAAC,cAPhB;AAQI,MAAA,MAAM,EAAC,aARX;AASI,MAAA,KAAK,EAAC,SATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBJ,EAmCI,oBAAC,aAAD;AACI,MAAA,IAAI,EAAE,IADV;AAEI,MAAA,KAAK,EAAEsC,MAAM,CAACrC,aAFlB;AAGI,MAAA,MAAM,EAAEmD,MAAM,CAACnD,aAHnB;AAII,MAAA,OAAO,EAAEiD,OAAO,CAACjD,aAJrB;AAKI,MAAA,IAAI,EAAC,eALT;AAMI,MAAA,IAAI,EAAC,eANT;AAOI,MAAA,WAAW,EAAC,uBAPhB;AAQI,MAAA,MAAM,EAAC,sBARX;AASI,MAAA,KAAK,EAAC,kBATV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnCJ,EA8CI,oBAAC,aAAD;AACI,MAAA,KAAK,EAAEqC,MAAM,CAACpC,SADlB;AAEI,MAAA,MAAM,EAAEkD,MAAM,CAAClD,SAFnB;AAGI,MAAA,OAAO,EAAEgD,OAAO,CAAChD,SAHrB;AAII,MAAA,IAAI,EAAC,WAJT;AAKI,MAAA,IAAI,EAAC,WALT;AAMI,MAAA,WAAW,EAAC,YANhB;AAOI,MAAA,MAAM,EAAC,cAPX;AAQI,MAAA,KAAK,EAAC,UARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9CJ,EAwDI,oBAAC,EAAD,CAAI,GAAJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AACI,MAAA,IAAI,EAAEpB,EAAE,CAACF,IAAH,CAAQ4E,OADlB;AAEI,MAAA,IAAI,EAAC,MAFT;AAGI,MAAA,EAAE,EAAC,SAHP;AAII,MAAA,IAAI,EAAC,SAJT;AAKI,MAAA,WAAW,EAAC,kBALhB;AAMI,MAAA,KAAK,EAAC,kBANV;AAOI,MAAA,MAAM,EAAEJ,MAAM,CAACpB,OAPnB;AAQI,MAAA,OAAO,EAAEkB,OAAO,CAAClB,OARrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAxDJ,EA6EI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,mBADP;AAEI,MAAA,IAAI,EAAC,mBAFT;AAGI,MAAA,KAAK,EAAC,0BAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7EJ,EAkFI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,mBADP;AAEI,MAAA,IAAI,EAAC,mBAFT;AAGI,MAAA,KAAK,EAAC,yBAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlFJ,EAuFI,oBAAC,aAAD;AACI,MAAA,KAAK,EAAEM,MAAM,CAACjC,SADlB;AAEI,MAAA,MAAM,EAAE+C,MAAM,CAAC/C,SAFnB;AAGI,MAAA,OAAO,EAAE6C,OAAO,CAAC7C,SAHrB;AAII,MAAA,IAAI,EAAC,WAJT;AAKI,MAAA,IAAI,EAAC,WALT;AAMI,MAAA,WAAW,EAAC,gBANhB;AAOI,MAAA,MAAM,EAAC,eAPX;AAQI,MAAA,KAAK,EAAC,gBARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvFJ,EAiGI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,mBADP;AAEI,MAAA,IAAI,EAAC,mBAFT;AAGI,MAAA,KAAK,EAAC,yBAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjGJ,EAsGI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,sBADP;AAEI,MAAA,IAAI,EAAC,sBAFT;AAGI,MAAA,KAAK,EAAC,gCAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtGJ,EA2GI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,gBADP;AAEI,MAAA,IAAI,EAAC,gBAFT;AAGI,MAAA,KAAK,EAAC,2BAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3GJ,EAgHI,oBAAC,WAAD;AACI,MAAA,EAAE,EAAC,gBADP;AAEI,MAAA,IAAI,EAAC,gBAFT;AAGI,MAAA,KAAK,EAAC,wCAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhHJ,EAuHI,oBAAC,aAAD;AAAe,MAAA,GAAG,EAAC,GAAnB;AAAuB,MAAA,IAAI,EAAC,QAA5B;AAAqC,MAAA,IAAI,EAAC,IAA1C;AAA+C,MAAA,IAAI,EAAC,SAApD;AAA8D,MAAA,YAAY,EAAEiD,YAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvHJ,CAFR,CADJ,CADJ,CAzFR,CARA,CADJ;AAsOG;;AAxRiC;;AAyRvC;AAED,eAAe7C,SAAf","sourcesContent":["import React from 'react';\r\nimport { Form, Formik } from 'formik';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport * as Bs from 'react-bootstrap';\r\nimport * as Yup from 'yup';\r\n\r\nimport { RegularButton, MultipleInput, InputWithLabel, ReactSwitch, ConditionInput, ReactAlert} from './FormComponents';\r\n\r\nconst ValidForm = Yup.object().shape({\r\n        reqst_cd: Yup.string()\r\n            .required('Request code is required.'),\r\n        workflows: Yup.array()\r\n            .of(\r\n                Yup.string()\r\n                .required('Workflow code is required.'),\r\n            )\r\n            .min(1, 'Minimum of 1 workflow.'),\r\n        clusters: Yup.array()\r\n            .of(\r\n                Yup.string()\r\n                .required('Cluster code is required.')\r\n            ),\r\n        cluster_apvls: Yup.array()\r\n            .of(\r\n                Yup.string()\r\n                .required('Cluster Approval code is required.')\r\n            ),\r\n        dropdowns: Yup.array()\r\n            .of(\r\n                Yup.string()\r\n                .required('Field Name is required.')\r\n            ),\r\n        // apps_cd: Yup.string(),\r\n        // apps_owners: Yup.array()\r\n        // .of(\r\n        //     Yup.string()\r\n        //     .required('Application Owner is required.'),\r\n        // )\r\n        // .when('apps_cd', {\r\n        //     is: (apps_cd) => apps_cd > '',\r\n        //     then: Yup.array()\r\n        //         .min(1, 'Minimum of 1 Application Owner.'),          \r\n        // }),\r\n        reqst_cond_switch: Yup.boolean(),\r\n        condtn_cd: Yup.array()\r\n            .when('reqst_cond_switch', {\r\n                is: (reqst_cond_switch) => reqst_cond_switch === true,\r\n                then: Yup.array()\r\n                .of(\r\n                    Yup.string()\r\n                    .required('Condition code is required.'),\r\n                )\r\n                .min(1, 'Minimum of 1 condition.'),\r\n            })\r\n            \r\n        \r\n});\r\n\r\nclass ReactCard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          users: [],\r\n          alert_class: '',\r\n          alert_heading: '',\r\n          alert_body: '',\r\n          alert_show: false\r\n        };\r\n\r\n        // this.appsCdChangeHandler = this.appsCdChangeHandler.bind(this);\r\n        this.alertClose = this.alertClose.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"http://10.15.10.250:8080/extract_dev2/users\")\r\n        .then(res => res.json())\r\n        .then(\r\n            (result) => {\r\n                // console.log(result)\r\n                this.setState({\r\n                    // users: result\r\n                    // isLoaded: true,\r\n                    // selectedOption: \"Please choose\"\r\n                });\r\n            },\r\n            (error) => {\r\n                this.setState({\r\n                    error\r\n                });\r\n                console.log(this.state.error)\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    // clusterApvlSwitchChangeHandler(){\r\n    //     var new_wflow = this.state.other_wflow.concat('');\r\n    //     this.setState({ other_wflow: new_wflow });\r\n    // }\r\n\r\n    alertClose(){\r\n        this.setState({\r\n            alert_show: false\r\n        });\r\n    }\r\n\r\n    render(){\r\n    return(\r\n        <>\r\n        <ReactAlert \r\n            display={this.state.alert_show}\r\n            class={this.state.alert_class} \r\n            title={this.state.alert_heading} \r\n            body={this.state.alert_body} \r\n            onClose={this.alertClose}\r\n        />\r\n        <Formik\r\n            initialValues={{ \r\n                users: this.state.users,\r\n                reqst_cd: '',\r\n                workflows: [],\r\n                cluster_switch: false,\r\n                clusters: [],\r\n                cluster_apvls: [],\r\n                dropdowns: [],\r\n                apps_cd: '',\r\n                // apps_owners: [],\r\n                wflow_cond_switch: false,\r\n                reqst_cond_switch: false,\r\n                condtn_cd: [],\r\n                cond_ctrls_switch: false,\r\n                form_validate_switch: false,\r\n                ws_apvl_switch: false,\r\n                ws_actv_switch: false\r\n            }}\r\n            enableReinitialize\r\n            validationSchema={ValidForm}\r\n            onSubmit={( values, { setSubmitting, resetForm }) =>{\r\n\r\n                    const that = this;\r\n\r\n                    fetch(\"http://10.15.10.250:8080/extract_dev2/extract_workflow\", {\r\n                            method: 'POST',\r\n                            mode: 'cors',\r\n                            body: JSON.stringify(values, null, 2)\r\n                        }\r\n                    )\r\n                    .then(res => res.json())\r\n                    .then(\r\n                        (result) => {\r\n\r\n                            console.log(result)\r\n                            \r\n                            if(result['error']){\r\n                                that.setState({\r\n                                    alert_show: true,\r\n                                    alert_class: 'alert-danger',\r\n                                    alert_heading: 'Error',\r\n                                    alert_body: result['data']\r\n                                });\r\n                                setSubmitting(false)\r\n                            }\r\n                            else{\r\n                                setSubmitting(false)\r\n                                resetForm(values)\r\n                                that.setState({\r\n                                    alert_show: true,\r\n                                    alert_class: 'alert-success',\r\n                                    alert_heading: 'Workflow Extracted',\r\n                                    alert_body: 'Script for transport has been extracted. Please check the files for the script: ' +values.reqst_cd+'.sql'\r\n                                });\r\n                            }\r\n                            \r\n                        },\r\n                        \r\n                        (error) => {\r\n                            that.setState({\r\n                                error\r\n                            });\r\n                            that.setState({\r\n                                alert_show: true,\r\n                                alert_class: 'alert-danger',\r\n                                alert_heading: 'Error',\r\n                                alert_body: 'There was an error processing your request. Please try again. Error: ' + error\r\n                            });\r\n                            console.log(error);\r\n                            setSubmitting(false);\r\n                            \r\n                        }\r\n                    )\r\n                }\r\n            }\r\n        >\r\n            {({ \r\n                handleSubmit,\r\n                handleChange,\r\n                handleBlur,\r\n                values,\r\n                touched,\r\n                isValid,\r\n                errors,\r\n                form,\r\n                isSubmitting,\r\n                formProps\r\n            }) => (\r\n                <Bs.Container className=\"mt-5 mb-5\">\r\n                    <Bs.Card>\r\n                        <Bs.Card.Body>\r\n                            <Bs.Card.Title>Extract Script for Transport</Bs.Card.Title>\r\n                                <Form>\r\n                                    <Bs.Row>\r\n                                        <InputWithLabel\r\n                                            comp={Bs.Form.Control}\r\n                                            type=\"text\"\r\n                                            id=\"reqst_cd\"\r\n                                            name=\"reqst_cd\"\r\n                                            placeholder=\"Request Code\"\r\n                                            label=\"Request Code\"\r\n                                            errors={errors.reqst_cd}\r\n                                            touched={touched.reqst_cd}\r\n                                        />\r\n                                    </Bs.Row>\r\n                                    <MultipleInput \r\n                                        value={values.workflows} \r\n                                        errors={errors.workflows} \r\n                                        touched={touched.workflows} \r\n                                        name=\"workflows\" \r\n                                        item=\"workflow\" \r\n                                        placeholder=\"Workflow Code\" \r\n                                        button=\"Add Workflow\" \r\n                                        label=\"Workflow\" \r\n                                    />\r\n                                    {/* <ReactSwitch label=\"With Cluster?\" name=\"cluster_switch\" id=\"cluster_switch\" col=\"5\" /> */}\r\n                                    <MultipleInput \r\n                                        show={true}\r\n                                        value={values.clusters} \r\n                                        errors={errors.clusters} \r\n                                        touched={touched.clusters} \r\n                                        name=\"clusters\" \r\n                                        item=\"cluster\" \r\n                                        placeholder=\"Cluster Code\" \r\n                                        button=\"Add Cluster\" \r\n                                        label=\"Cluster\" \r\n                                    />\r\n                                    <MultipleInput \r\n                                        show={true}\r\n                                        value={values.cluster_apvls} \r\n                                        errors={errors.cluster_apvls} \r\n                                        touched={touched.cluster_apvls} \r\n                                        name=\"cluster_apvls\" \r\n                                        item=\"cluster_apvls\" \r\n                                        placeholder=\"Cluster Approval Code\" \r\n                                        button=\"Add Cluster Approver\" \r\n                                        label=\"Cluster Approval\" \r\n                                    />\r\n                                    <MultipleInput \r\n                                        value={values.dropdowns} \r\n                                        errors={errors.dropdowns} \r\n                                        touched={touched.dropdowns} \r\n                                        name=\"dropdowns\" \r\n                                        item=\"dropdowns\" \r\n                                        placeholder=\"Field Name\" \r\n                                        button=\"Add Dropdown\" \r\n                                        label=\"Dropdown\" \r\n                                    />\r\n                                    <Bs.Row>\r\n                                        <InputWithLabel\r\n                                            comp={Bs.Form.Control}\r\n                                            type=\"text\"\r\n                                            id=\"apps_cd\"\r\n                                            name=\"apps_cd\"\r\n                                            placeholder=\"Application Code\"\r\n                                            label=\"Application Code\"\r\n                                            errors={errors.apps_cd}\r\n                                            touched={touched.apps_cd}\r\n                                        />\r\n                                    </Bs.Row>\r\n                                    {/* <MultipleInput \r\n                                        value={values.apps_owners} \r\n                                        name=\"apps_owners\" \r\n                                        item=\"apps_owners\" \r\n                                        placeholder=\"Application Owner\" \r\n                                        button=\"Add Application Owner\" \r\n                                        label=\"Application Owner\" \r\n                                        errors={errors.apps_owners}\r\n                                    /> */}\r\n                                    <ReactSwitch\r\n                                        id=\"wflow_cond_switch\"\r\n                                        name=\"wflow_cond_switch\"\r\n                                        label=\"With workflow condition?\"\r\n                                    />\r\n                                    <ReactSwitch\r\n                                        id=\"reqst_cond_switch\"\r\n                                        name=\"reqst_cond_switch\"\r\n                                        label=\"With request condition?\"\r\n                                    />\r\n                                    <MultipleInput \r\n                                        value={values.condtn_cd} \r\n                                        errors={errors.condtn_cd} \r\n                                        touched={touched.condtn_cd} \r\n                                        name=\"condtn_cd\" \r\n                                        item=\"dropdowns\" \r\n                                        placeholder=\"Condition Code\" \r\n                                        button=\"Add Condition\" \r\n                                        label=\"Condition Code\" \r\n                                    />\r\n                                    <ReactSwitch\r\n                                        id=\"cond_ctrls_switch\"\r\n                                        name=\"cond_ctrls_switch\"\r\n                                        label=\"With condition control?\"\r\n                                    />\r\n                                    <ReactSwitch\r\n                                        id=\"form_validate_switch\"\r\n                                        name=\"form_validate_switch\"\r\n                                        label=\"With trigger on Save/Finalize?\"\r\n                                    />\r\n                                    <ReactSwitch\r\n                                        id=\"ws_apvl_switch\"\r\n                                        name=\"ws_apvl_switch\"\r\n                                        label=\"With trigger on approval?\"\r\n                                    />\r\n                                    <ReactSwitch\r\n                                        id=\"ws_actv_switch\"\r\n                                        name=\"ws_actv_switch\"\r\n                                        label=\"With trigger when an activity is done?\"\r\n                                    />\r\n\r\n\r\n                                    <RegularButton col=\"5\" type=\"submit\" size=\"lg\" text=\"Extract\" isSubmitting={isSubmitting} />\r\n                                    \r\n                                </Form>\r\n                        </Bs.Card.Body>\r\n                    </Bs.Card>\r\n                </Bs.Container>\r\n            )}\r\n        </Formik>\r\n        </>\r\n    );}\r\n};\r\n\r\nexport default ReactCard;"]},"metadata":{},"sourceType":"module"}